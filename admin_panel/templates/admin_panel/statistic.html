{% extends 'admin_panel/base3.html' %}
{% load static %}

{% block content %}
    <head>
        <link rel="stylesheet" href="{% static 'admin_panel/statistic/statistic.css' %}">
    </head>
     <div class="statistic">
        <div class="statistic__charts">
            <div class="pie-chart-sex"  ></div>
            <div class="pie-chart-films"     ></div>
            <div class="area-seances"    ></div>
            <div class="line-stack-films"   ></div>
            <div class="registered">
                <h3 class="registered__count">44</h3>
                <div class="registered__title">Зарегистрированные пользователи</div>
                <ion-icon class="registered__icon" name="people-sharp"></ion-icon>
            </div>
        </div>
     </div>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

     <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>

      <script type="text/javascript">
        var pieChartSex = $('.pie-chart-sex')
        var pieChartFilms = $('.pie-chart-films')
        var myChartSex = echarts.init(pieChartSex.get(0), null, {
          renderer: 'canvas',
          useDirtyRect: false
        });
        var myChartFilms = echarts.init(pieChartFilms.get(0), null, {
          renderer: 'canvas',
          useDirtyRect: false
        });



        var optionForPieChartSex = {
          title: {
            text: 'Пол 100% от общего числа билетов',
            left: 'center',
            textStyle: {
                  fontSize : 14,
              },
          },
          tooltip: {
            trigger: 'item'
          },

          series: [
            {
              name: 'Access From',
              type: 'pie',
              radius: '50%',
              data: [
                { value: 1048, name: 'Мужской' },
                { value: 735, name: 'Женский' },
              ],
              emphasis: {
                itemStyle: {
                  shadowBlur: 10,
                  shadowOffsetX: 0,
                  shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
              }
            }
          ]
        };
        var optionForPieChartFilms = {
          title: {
            text: 'Фильмы по популярности',
            left: 'center',
            textStyle: {
                  fontSize : 14,
              },
          },

          tooltip: {
            trigger: 'item'
          },
          legend: {
            orient: 'vertical',
            left: 'right',
            top: 'bottom'
          },
          series: [
            {
              name: 'Access From',
              type: 'pie',
              radius: '50%',
              data: [
                { value: 1048, name: 'Мужской' },
                { value: 735, name: 'Женский' },
              ],
              emphasis: {
                itemStyle: {
                  shadowBlur: 10,
                  shadowOffsetX: 0,
                  shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
              }
            }
          ]
        };

        if (optionForPieChartSex && typeof optionForPieChartSex === 'object') {
          myChartSex.setOption(optionForPieChartSex);
        }
        if (optionForPieChartFilms && typeof optionForPieChartFilms === 'object') {
          myChartFilms.setOption(optionForPieChartFilms);
        }

        window.addEventListener('resize', myChartSex.resize);
        window.addEventListener('resize', myChartFilms.resize);






        var areaSeances = $('.area-seances');
        var myChartAreaSeances = echarts.init(areaSeances.get(0), null, {
          renderer: 'canvas',
          useDirtyRect: false
        });



        var optionForAreaSeances = {
          title: {
            text: 'Сеансы',
            left: 'center',
            textStyle: {
                  fontSize : 14,
              },
          },
          xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
          },
          yAxis: {
            type: 'value'
          },
          series: [
            {
              data: [820, 932, 901, 934, 1290, 1330, 1320],
              type: 'line',
              areaStyle: {}
            }
          ]
        };

        if (optionForAreaSeances && typeof optionForAreaSeances === 'object') {
          myChartAreaSeances.setOption(optionForAreaSeances);
        }

        window.addEventListener('resize', myChartAreaSeances.resize);







         var lineStackFilms  = $('.line-stack-films');
         var myChartLineStackFilms = echarts.init(lineStackFilms.get(0), null, {
           renderer: 'canvas',
           useDirtyRect: false
         });


        var optionForLineStackFilms = {
          title: {
            text: 'Сеансы',
            textStyle: {
                  fontSize : 14,
              },
          },
          tooltip: {
            trigger: 'axis'
          },
          legend: {
            data: ['Email', 'Union Ads', 'Video Ads', 'Direct', 'Search Engine']
          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
          },
          toolbox: {
            feature: {
              saveAsImage: {}
            }
          },
          xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
          },
          yAxis: {
            type: 'value'
          },
          series: [
            {
              name: 'Email',
              type: 'line',
              stack: 'Total',
              data: [120, 132, 101, 134, 90, 230, 210]
            },
            {
              name: 'Union Ads',
              type: 'line',
              stack: 'Total',
              data: [220, 182, 191, 234, 290, 330, 310]
            },
            {
              name: 'Video Ads',
              type: 'line',
              stack: 'Total',
              data: [150, 232, 201, 154, 190, 330, 410]
            },
            {
              name: 'Direct',
              type: 'line',
              stack: 'Total',
              data: [320, 332, 301, 334, 390, 330, 320]
            },
            {
              name: 'Search Engine',
              type: 'line',
              stack: 'Total',
              data: [820, 932, 901, 934, 1290, 1330, 1320]
            }
          ]
        };

        if (optionForLineStackFilms && typeof optionForLineStackFilms === 'object') {
          myChartLineStackFilms.setOption(optionForLineStackFilms);
        }

        window.addEventListener('resize', myChartLineStackFilms.resize);
          </script>

{% endblock %}

